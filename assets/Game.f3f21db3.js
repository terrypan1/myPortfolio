import{d as o}from"./pinia.5f2d4077.js";import{k as r,o as i,c as h,b as x}from"./@vue.a1179c56.js";const a=""+new URL("treasureChestOpen.ddb8aab9.png",import.meta.url).href,b=o("game",{state:()=>({block:{el:!1,elList:[],x:0,y:0,xy:[],elListMove:!1},box:{x:0,y:0,el:!1,elList:[],width:50,height:50,elListMove:!1,elListOpen:!1},player:{x:0,y:0,el:!1,elList:[],speed:50,width:50,height:50}}),actions:{random(e){return Math.floor(Math.random()*e)},blockInit(){for(let e=0;e<=9;e++)for(let t=0;t<=9;t++)this.block.x=e*50,this.block.y=t*50,this.block.xy.push([this.block.x,this.block.y])},blockRender(){for(let e=0;e<this.block.xy.length;e++)this.block.el=document.createElement("div"),this.block.el.classList.add("worldBlock"),this.block.elList[e]=this.block.el,this.block.elList[e].style.top=this.block.xy[e][0]+"px",this.block.elList[e].style.left=this.block.xy[e][1]+"px",document.querySelector(".world").appendChild(this.block.elList[e])},boxCreate(){this.box.el=document.createElement("div"),this.box.el.classList.add("worldBox"),this.box.elList=this.box.el,this.box.elList.style.width=this.box.el.width+"px",this.box.elList.style.height=this.box.el.height+"px"},boxRender(){this.box.x=this.random(10)*50,this.box.y=this.random(10)*50,this.box.elList.style.top=this.box.y+"px",this.box.elList.style.left=this.box.x+"px",document.querySelector(".worldBlock").appendChild(this.box.elList)},boxMove(){setInterval(()=>{let e=this.random(4);e===0?(this.box.elList.style.left=this.box.x+"px",this.box.x+=50,this.box.x>=500&&(this.box.x=0)):e===1?(this.box.elList.style.left=this.box.x+"px",this.box.x-=50,this.box.x<=-50&&(this.box.x=450)):e===2?(this.box.elList.style.top=this.box.y+"px",this.box.y+=50,this.box.y>=500&&(this.box.y=0)):e===3&&(this.box.elList.style.top=this.box.y+"px",this.box.y-=50,this.box.y<=-50&&(this.box.y=450)),this.box.elList.style.top===this.player.elList.style.top&&this.box.elList.style.left===this.player.elList.style.left&&(this.box.elListMove.style.background=`url(${a}) no-repeat`,this.box.elListMove.style.backgroundSize="cover",this.box.elListOpen=!0,this.boxCollision())},1e3)},boxCollision(){this.box.elListOpen===!0&&setTimeout(()=>{this.box.elList.remove(),this.box.elListOpen=!1,this.boxCreate(),this.boxRender(),this.boxListener()},1e3)},boxListener(){this.box.elListMove=document.querySelector(".worldBox"),this.box.elListMove.addEventListener("click",this.boxListener)},playerCreate(){this.player.el=document.createElement("div"),this.player.el.classList.add("worldPlayer"),this.player.elList=this.player.el,this.player.elList.style.width=this.player.width+"px",this.player.elList.style.height=this.player.height+"px"},playerRender(){this.player.elList.style.top=this.player.x+"px",this.player.elList.style.left=this.player.y+"px",document.querySelector(".world").appendChild(this.player.elList)}}});const n={class:"world",id:"world"},c={__name:"Game",setup(e){const t=b();return r(()=>{t.blockInit(),t.blockRender(),t.boxCreate(),t.boxRender(),t.boxMove(),t.playerCreate(),t.playerRender(),t.boxListener(),t.block.elListMove=document.querySelectorAll(".worldBlock");for(let s=0;s<t.block.xy.length;s++)t.block.elListMove[s].addEventListener("click",function(l){t.player.elList.style.top=l.target.style.top,t.player.elList.style.left=l.target.style.left})}),(s,l)=>(i(),h("div",n))}},d={__name:"Game",setup(e){return(t,s)=>(i(),x(c))}};export{d as default};
