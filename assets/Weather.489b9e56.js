import{d}from"./pinia.5f2d4077.js";import{a as m}from"./axios.754b77ca.js";import{_ as p}from"./plugin-vueexport-helper.2444895f.js";import{k as h,o as r,c as _,aw as u,ax as f,a as s,b as w}from"./@vue.a1179c56.js";import"./form-data.2b153385.js";const T=d("weather",{state:()=>({block:{nowTime:!1,country:!1,location:!1,tempList:[]}}),actions:{setNowTime(){let e=document.querySelector(".nowTime");this.block.nowTime=new Date().toLocaleString(),e.innerHTML=`\u73FE\u5728\u6642\u9593${this.block.nowTime}`},setLocation(){let e=document.querySelector(".location");e.innerHTML=`\u6240\u5728\u4F4D\u7F6E ${this.block.country} ${this.block.location}`},setData(e){this.block.country=e.data.records.locations[0].locationsName,this.block.location=e.data.records.locations[0].location[0].locationName,e.data.records.locations[0].location[0].weatherElement[3].time.forEach((a,o)=>{this.block.tempList.push([a.dataTime,a.elementValue[0].value,a.elementValue[0].measures,e.data.records.locations[0].location[0].weatherElement[6].time[o].elementValue[0].value])})},createEl(e){let t=document.createElement("div");return t.classList.add(e),t},setTempList(){let e=document.querySelector(".tempList");this.block.tempList.forEach((t,a)=>{let o=this.createEl("temp"),i=this.createEl("time"),c=this.createEl("centigrade"),l=this.createEl("description"),n=25-t[1]+Math.random()*50;o.style.backgroundColor=`rgba(107, ${n}, 25)`,o.style.borderColor=`rgba(107, ${n}, 25)`,o.style.color="#fff",c.style.marginLeft="80%",i.innerText=t[0],c.innerText=t[1]+t[2],l.innerText=t[3],o.appendChild(i),o.appendChild(l),o.appendChild(c),e.appendChild(o)})},async axiosWeather(){await m("https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-D0047-089?Authorization=CWB-84EDB16B-47D4-45F9-A113-B9C24F7F4E65&limit=10&locationName=%E9%AB%98%E9%9B%84%E5%B8%82").then(e=>{this.setData(e),this.setLocation(),this.setData(e),this.setTempList()})}}});const E=e=>(u("data-v-188dcf6f"),e=e(),f(),e),L={class:"flex-weather"},b=E(()=>s("div",{class:"weather-container"},[s("div",{class:"nowTime"}),s("div",{class:"location"}),s("div",{class:"tempList"})],-1)),k=[b],v={__name:"Weather",setup(e){const t=T();return h(()=>{t.setNowTime(),t.axiosWeather()}),(a,o)=>(r(),_("div",L,k))}},y=p(v,[["__scopeId","data-v-188dcf6f"]]),D={__name:"Weather",setup(e){return(t,a)=>(r(),w(y))}};export{D as default};
